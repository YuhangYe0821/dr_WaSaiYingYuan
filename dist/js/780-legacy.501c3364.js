"use strict";(self["webpackChunkproject_1"]=self["webpackChunkproject_1"]||[]).push([[780],{9780:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"introduction"},[n("div",{staticClass:"isImg"},[n("img",{attrs:{src:t.filmList.cover,alt:""}})]),n("div",{staticClass:"isText"},[n("h1",[t._v(t._s(t.filmList.name))]),n("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:t.filmList.star,callback:function(e){t.$set(t.filmList,"star",e)},expression:"filmList.star"}}),n("p",[t._v("电影类型："+t._s(t.filmList.type))]),n("p",[t._v(t._s(t.filmList.region)+" / "+t._s(t.filmList.duration)+"分钟")]),n("p",[t._v("上映日期："+t._s(t.filmList.releaseTime)+"上映")]),n("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/Ticket?fid="+t.filmId}},[n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.toTicket()}}},[t._v("特惠购票")])],1),n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.open()}}},[t._v("评分")])],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"overlay",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.isShow=!1}}},[n("div",{staticClass:"center"},[n("p",[t._v("电影评分")]),n("el-button",{staticClass:"el-icon-close",attrs:{type:"danger",circle:""},on:{click:function(e){t.isShow=!1}}}),n("el-rate",{attrs:{colors:t.colors},model:{value:t.form.star,callback:function(e){t.$set(t.form,"star",e)},expression:"form.star"}}),n("div",{staticClass:"content"},[n("div",{staticClass:"isInput"},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:8,maxRows:10},placeholder:"请输入内容",resize:"none"},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}})],1)]),n("div",{staticClass:"choice"},[n("el-button",{on:{click:function(e){t.isShow=!1}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.isShow=!1,t.submitComment()}}},[t._v("提交")])],1)],1)]),n("div",[n("router-view")],1)])},r=[],o=n(6580),s={data:function(){return{isShow:!1,colors:["#99A9BF","#F7BA2A","#FF9900"],filmList:[],filmId:this.$route.query.fid,form:{fid:"",uid:"",star:0,comment:""}}},methods:{open:function(){var t=this;localStorage.getItem("uid")?this.isShow=!0:this.$confirm("您还没有登录, 是否去登录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$router.push("/Login")})).catch((function(){t.$message({type:"info",message:"已取消"})}))},toTicket:function(){var t=this;localStorage.getItem("uid")||this.$confirm("您还没有登录, 是否去登录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$router.push("/Login")})).catch((function(){t.$message({type:"info",message:"已取消"})}))},queryFimlDetail:function(){var t=this;(0,o.dn)().then((function(e){200==e.code&&(t.filmList=e.data)}))},submitComment:function(){var t=this;this.form.fid=this.filmId,this.form.uid=localStorage.getItem("uid");var e=this.form;(0,o.m0)(e).then((function(e){t.isShow=!1}))}},mounted:function(){this.queryFimlDetail(),this.submitComment()},components:{}},u=s,a=n(1001),c=(0,a.Z)(u,i,r,!1,null,"33ec20aa",null),l=c.exports},6580:function(t,e,n){n.d(e,{Ie:function(){return r},SI:function(){return s},Wf:function(){return h},X2:function(){return m},XG:function(){return d},_5:function(){return o},dn:function(){return l},eR:function(){return u},gC:function(){return a},m0:function(){return f},pW:function(){return p},zf:function(){return c}});var i=n(7350);function r(){return(0,i.Z)({url:"/api/poster",method:"get"})}function o(){return(0,i.Z)({url:"/api/status",method:"get"})}function s(){return(0,i.Z)({url:"/api/film/hot/limit",method:"get"})}function u(){return(0,i.Z)({url:"/api/film/hot/tabledata",method:"get"})}function a(){return(0,i.Z)({url:"/api/film",method:"get"})}function c(){return(0,i.Z)({url:"/film/region/type",method:"get"})}function l(){return(0,i.Z)({url:"/api/film/id",method:"get"})}function f(t){return(0,i.Z)({url:"/api/fe",method:"post",data:t})}function m(){return(0,i.Z)({url:"/api/fe",method:"get"})}function d(){return(0,i.Z)({url:"/api/arrangement/film/fid",method:"get"})}function h(){return(0,i.Z)({url:"/api/arrangement/id",method:"get"})}function p(){return(0,i.Z)({url:"/api/arrangement/getSeats/id",method:"get"})}},7350:function(t,e,n){n.d(e,{Z:function(){return c}});n(1539);var i=n(6166),r=n.n(i),o={API_URL:"https://www.fastmock.site/mock/bb8184025bf2675a801a55bd2eec58c9/shop01"},s=o,u=localStorage.getItem("token"),a=r().create({baseURL:s.API_URL,headers:{Autorization:u}});a.interceptors.response.use((function(t){var e=t.data;return e}),(function(t){return console.log("err"+t),Promise.reject(t)}));var c=a}}]);
//# sourceMappingURL=780-legacy.501c3364.js.map