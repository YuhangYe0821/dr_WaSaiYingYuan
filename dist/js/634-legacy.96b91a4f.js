"use strict";(self["webpackChunkproject_1"]=self["webpackChunkproject_1"]||[]).push([[634],{3634:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",{staticClass:"login_info"},[e._m(0),s("div",{staticClass:"login_form"},[s("p",[e._v("Username")]),s("el-input",{attrs:{placeholder:"账号"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("p",[e._v("Password")]),s("el-input",{attrs:{placeholder:"密码","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("div",{staticClass:"forget"},[s("el-tooltip",{attrs:{content:"请联系管理员",placement:"right",effect:"dark"}},[s("el-link",{staticClass:"login_link",attrs:{underline:!1}},[e._v("忘记密码?")])],1)],1),s("div",{staticClass:"btn"},[s("el-button",{staticClass:"login-form-button",attrs:{type:"primary"},on:{click:function(t){return e.toHomepage()}}},[e._v("SIGN IN")])],1),s("div",{staticClass:"login_footer"},[s("el-link",{staticClass:"rg",attrs:{underline:!1,href:"Register"}},[e._v("还没注册账号?去注册 "),s("i",{staticClass:"el-icon-right"})])],1)],1)])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login_title"},[n("img",{attrs:{src:s(6949),alt:""}}),n("div",{staticClass:"logo_text"},[e._v("哇塞电影-登录")])])}],r=s(6165),o={data:function(){return{username:"",password:""}},methods:{toHomepage:function(){var e=this;if(this.username.length<1)this.$message({message:"请输入用户名",type:"warning"});else if(this.password.length<1)this.$message({message:"请输入密码",type:"warning"});else{var t={username:this.username,password:this.password};(0,r.m3)(t).then((function(t){200==t.code?(localStorage.setItem("token",t.data.token),localStorage.setItem("uid",t.data.user.id),e.$message({message:t.msg,type:"success"}),e.$router.push("/Homepage")):400==t.code&&e.$message({message:t.msg,type:"warning"})}))}}}},i=o,l=s(1001),u=(0,l.Z)(i,n,a,!1,null,"9dc6adfa",null),c=u.exports},6165:function(e,t,s){s.d(t,{XR:function(){return i},aX:function(){return r},ao:function(){return o},m3:function(){return a}});var n=s(7350);function a(e){return(0,n.Z)({url:"/api/user/login",method:"post",data:e})}function r(e){return(0,n.Z)({url:"/api/user/register",method:"post",data:e})}function o(){return(0,n.Z)({url:"/api/user/id",method:"get"})}function i(){return(0,n.Z)({url:"/api/film/name",method:"get"})}},7350:function(e,t,s){s.d(t,{Z:function(){return u}});s(1539);var n=s(6166),a=s.n(n),r={API_URL:"https://www.fastmock.site/mock/bb8184025bf2675a801a55bd2eec58c9/shop01"},o=r,i=localStorage.getItem("token"),l=a().create({baseURL:o.API_URL,headers:{Autorization:i}});l.interceptors.response.use((function(e){var t=e.data;return t}),(function(e){return console.log("err"+e),Promise.reject(e)}));var u=l},6949:function(e,t,s){e.exports=s.p+"img/logo.1f52265e.png"}}]);
//# sourceMappingURL=634-legacy.96b91a4f.js.map