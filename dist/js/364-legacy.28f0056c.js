"use strict";(self["webpackChunkproject_1"]=self["webpackChunkproject_1"]||[]).push([[364],{9364:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"messageBoard"},[s("div",{staticClass:"waiter"},[s("p",[t._v("客服人员")]),t._l(t.wokerList,(function(e,n){return s("div",{key:n},[s("el-avatar",{attrs:{size:80,src:e.avatar}}),s("span",[t._v("名字: "+t._s(e.nickname))]),s("span",[t._v("性别: "+t._s(e.gender))]),s("span",{staticClass:"worker_id"},[t._v("ID: "+t._s(e.id))]),s("el-link",{attrs:{type:"success",underline:!1},on:{click:function(e){t.isShow1=!0}}},[t._v("我的评价")]),s("el-link",{attrs:{type:"success",underline:!1},on:{click:function(e){t.isShow2=!0}}},[t._v("评价客服")])],1)}))],2),s("div",{staticClass:"customer"},[s("p",[t._v("顾客留言")]),t._l(t.commentList,(function(e,n){return s("div",{key:n},[null!=e.user?s("el-avatar",{attrs:{size:70,src:e.user.avatar}}):s("el-avatar",{attrs:{size:70,src:""}}),null!=e.user?s("span",[t._v("顾客: "+t._s(e.user.nickname))]):s("span",[t._v(" ")]),s("span",[t._v(t._s(e.leavingMessage.content))]),s("span",[t._v("Time: "+t._s(e.leavingMessage.createAt))])],1)})),s("el-button",{attrs:{type:"success"},on:{click:function(e){t.isShow3=!0}}},[t._v("添加留言")])],2)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow1,expression:"isShow1"}],staticClass:"overlay",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.isShow1=!1}}},[s("div",{staticClass:"center1"},[s("p",[t._v("我的评价")]),s("el-button",{staticClass:"el-icon-close",attrs:{type:"danger",circle:""},on:{click:function(e){t.isShow1=!1}}}),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.myCommentList,height:"215"}},[s("el-table-column",{attrs:{prop:"createAt",label:"日期",width:"180"}}),s("el-table-column",{attrs:{prop:"content",label:"评语",width:"480"}}),s("el-table-column",{attrs:{label:"满意程度",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("el-tag",[t._v(t._s(e.row.type))])],1)]}}])})],1)],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow2,expression:"isShow2"}],staticClass:"overlay",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.isShow2=!1}}},[s("div",{staticClass:"center2"},[s("p",[t._v("评价客服")]),s("el-button",{staticClass:"el-icon-close",attrs:{type:"danger",circle:""},on:{click:function(e){t.isShow2=!1}}}),s("div",{staticClass:"assess"},[s("span",[t._v("满意程度")]),t._v("  "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return s("el-option",{key:t.value,attrs:{label:t.assess,value:t.assess}})})),1)],1),s("br"),s("br"),s("div",{staticClass:"content"},[s("span",[t._v("评价内容")]),t._v("   "),s("div",{staticClass:"isInput"},[s("el-input",{attrs:{type:"textarea",autosize:{minRows:8,maxRows:10},placeholder:"请输入内容",resize:"none"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)]),s("div",{staticClass:"choice"},[s("el-button",{on:{click:function(e){t.isShow2=!1}}},[t._v("取消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.isShow2=!1,t.myCommentPost(t.value,t.input)}}},[t._v("提交评价")])],1)],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow3,expression:"isShow3"}],staticClass:"overlay",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.isShow3=!1}}},[s("div",{staticClass:"center3"},[s("p",[t._v("添加留言")]),s("el-button",{staticClass:"el-icon-close",attrs:{type:"danger",circle:""},on:{click:function(e){t.isShow3=!1}}}),s("div",{staticClass:"content"},[s("div",{staticClass:"isInput"},[s("el-input",{attrs:{type:"textarea",autosize:{minRows:8,maxRows:10},placeholder:"请输入内容",resize:"none"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)]),s("div",{staticClass:"choice"},[s("el-button",{on:{click:function(e){t.isShow3=!1}}},[t._v("取消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.isShow3=!1}}},[t._v("提交评价")])],1)],1)])])},a=[],i=s(7350);function o(){return(0,i.Z)({url:"/api/worker",method:"get"})}function r(){return(0,i.Z)({url:"/api/lm",method:"get"})}function c(){return(0,i.Z)({url:"/api/we",method:"get"})}function l(t){return(0,i.Z)({url:"/api/we",method:"post",data:t})}var u={data:function(){return{isShow1:!1,isShow2:!1,isShow3:!1,input:"",value:"",wokerList:[],commentList:[],myCommentList:[],options:[{value:"选项1",assess:"非常满意"},{value:"选项2",assess:"满意"},{value:"选项3",assess:"不满意"}]}},methods:{workerQuery:function(){var t=this;o().then((function(e){200==e.code&&(t.wokerList=e.data)}))},commentQuery:function(){var t=this;r().then((function(e){200==e.code&&(t.commentList=e.data)}))},myCommentQuery:function(){var t=this;c().then((function(e){200==e.code&&(t.myCommentList=e.data)}))},myCommentPost:function(t,e){var s=this,n={uid:localStorage.uid,comtent:e,type:t};l(n).then((function(t){200==t.code&&s.$message({message:t.msg,type:"success"})}))}},mounted:function(){this.workerQuery(),this.commentQuery(),this.myCommentQuery()}},v=u,p=s(1001),m=(0,p.Z)(v,n,a,!1,null,"a067865c",null),d=m.exports},7350:function(t,e,s){s.d(e,{Z:function(){return l}});s(1539);var n=s(6166),a=s.n(n),i={API_URL:"https://www.fastmock.site/mock/bb8184025bf2675a801a55bd2eec58c9/shop01"},o=i,r=localStorage.getItem("token"),c=a().create({baseURL:o.API_URL,headers:{Autorization:r}});c.interceptors.response.use((function(t){var e=t.data;return e}),(function(t){return console.log("err"+t),Promise.reject(t)}));var l=c}}]);
//# sourceMappingURL=364-legacy.28f0056c.js.map