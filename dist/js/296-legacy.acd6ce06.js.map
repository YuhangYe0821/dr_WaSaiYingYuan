{"version":3,"file":"js/296-legacy.acd6ce06.js","mappings":"8JAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,QAAUP,EAAIQ,UAAUR,EAAIS,GAAIT,EAAgB,cAAE,SAASU,EAAKC,GAAI,OAAOP,EAAG,mBAAmB,CAACQ,IAAID,EAAGL,YAAY,YAAY,CAACF,EAAG,IAAI,CAACE,YAAY,aAAa,CAACN,EAAIa,GAAGb,EAAIc,GAAGJ,EAAKK,cAAcX,EAAG,MAAM,CAACA,EAAG,IAAI,CAACE,YAAY,WAAW,CAACN,EAAIa,GAAGb,EAAIc,GAAGJ,EAAKM,YAAYZ,EAAG,IAAI,CAACE,YAAY,WAAW,CAACN,EAAIa,GAAG,WAAWb,EAAIc,GAAGJ,EAAKO,YAAYb,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,UAAU,WAAY,GAAOW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIoB,KAAKV,MAAS,CAACV,EAAIa,GAAG,WAAW,UAAS,IAAI,MACtrBQ,EAAkB,G,UCEf,SAASC,IACZ,OAAOC,EAAAA,EAAAA,GAAQ,CACXC,IAAI,gBACJC,OAAO,QAIR,SAASC,EAAqBC,GACjC,OAAOJ,EAAAA,EAAAA,GAAQ,CACXC,IAAI,oBACJC,OAAO,OACPE,KAAKA,ICmBb,OACEA,KADF,WAEI,MAAO,CACLnB,SAAS,EACToB,OAAO,EAEPC,aAAc,KAIlBC,QAAS,CAEPV,KAFJ,SAEAV,GAAA,WACA,GACQqB,IAAKrB,EAAKC,GACVqB,IAAKC,aAAaD,KAEF,GAAd/B,KAAK2B,MACP3B,KAAKiC,SAAS,iBAAkB,KAAM,CACpCC,kBAAmB,KACnBC,iBAAkB,KAClBC,KAAM,YAChBC,MAAA,WACU,EAAV,qBAGQZ,EAAqBa,GAAkBD,MAAK,SAAxBZ,GACF,KAAZc,EAAIC,MAEN,EAAZ,UACcC,QAASF,EAAIG,IACbN,KAAM,gBAOhBO,cA5BJ,WA4BA,WACMtB,IAAkBgB,MAAK,SAARhB,GACG,KAAZkB,EAAIC,OACN,EAAV,0BAKEI,QA9CF,WAgDI5C,KAAK2C,kBCjF2P,I,UCQhQE,GAAY,OACd,EACA/C,EACAsB,GACA,EACA,KACA,WACA,MAIF,EAAeyB,EAAiB,S,oFCnB1BC,EAAS,CAEXC,QAAS,0EAGb,ICFMC,EAAQhB,aAAaiB,QAAQ,SAC7B3B,EAAU4B,IAAAA,OAAe,CAC3BC,QAASL,EAAAA,QACTM,QAAS,CACL,aAAgBJ,KAIxB1B,EAAQ+B,aAAaC,SAASC,KAC1B,SAAAD,GACI,IAAMf,EAAMe,EAAS5B,KACrB,OAAOa,KAGX,SAAAiB,GAEI,OADAC,QAAQC,IAAI,MAAMF,GACXG,QAAQC,OAAOJ,MAI9B","sources":["webpack://project_1/./src/views/Activity.vue?12e8","webpack://project_1/./src/api/activity.js","webpack://project_1/src/views/Activity.vue","webpack://project_1/./src/views/Activity.vue?c58c","webpack://project_1/./src/views/Activity.vue","webpack://project_1/./src/config.js","webpack://project_1/./src/utils/request.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"tem\"},[_c('el-timeline',{attrs:{\"reverse\":_vm.reverse}},_vm._l((_vm.activityList),function(item,id){return _c('el-timeline-item',{key:id,staticClass:\"template\"},[_c('p',{staticClass:\"starttime\"},[_vm._v(_vm._s(item.startTime))]),_c('div',[_c('p',{staticClass:\"content\"},[_vm._v(_vm._s(item.content))]),_c('p',{staticClass:\"endtime\"},[_vm._v(\"活动结束时间： \"+_vm._s(item.endTime))]),_c('p',{staticClass:\"join\"},[_c('el-link',{attrs:{\"type\":\"primary\",\"underline\":false},on:{\"click\":function($event){return _vm.open(item)}}},[_vm._v(\"报名参加\")])],1)])])}),1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import service from \"../utils/request\";\r\n\r\n// 显示所有活动\r\nexport function ListAllActivity() {\r\n    return service({\r\n        url:'/api/activity',\r\n        method:'get',\r\n    })\r\n}\r\n// 报名活动\r\nexport function RegistrationActivity(data) {\r\n    return service({\r\n        url:'/api/registration',\r\n        method:'post',\r\n        data:data\r\n    })\r\n}","<template>\r\n  <div class=\"main\">\r\n    <div class=\"tem\">\r\n      <!-- 时间线 -->\r\n      <el-timeline :reverse=\"reverse\">\r\n        <el-timeline-item\r\n          v-for=\"(item, id) in activityList\"\r\n          class=\"template\"\r\n          :key=\"id\"\r\n        >\r\n          <!-- 开始时间 -->\r\n          <p class=\"starttime\">{{ item.startTime }}</p>\r\n          <div>\r\n            <!-- 活动内容 -->\r\n            <p class=\"content\">{{ item.content }}</p>\r\n            <!-- 结束时间 -->\r\n            <p class=\"endtime\">活动结束时间： {{ item.endTime }}</p>\r\n            <p class=\"join\">\r\n              <!-- 参加按钮 -->\r\n              <el-link type=\"primary\" :underline=\"false\" @click=\"open(item)\"\r\n                >报名参加</el-link\r\n              >\r\n            </p>\r\n          </div>\r\n        </el-timeline-item>\r\n      </el-timeline>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ListAllActivity, RegistrationActivity } from \"../api/activity\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      reverse: true,\r\n      login: true,\r\n      // 活动列表\r\n      activityList: [],\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    // 按钮事件\r\n    open(item) {\r\n      const RegistrationData = {\r\n        aid: item.id,\r\n        uid: localStorage.uid,\r\n      };\r\n      if (this.login == false) {\r\n        this.$confirm(\"您还没有登录, 是否去登录?\", \"提示\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }).then(() => {\r\n          this.$router.push(\"/\");\r\n        });\r\n      } else {\r\n        RegistrationActivity(RegistrationData).then((res) => {\r\n          if (res.code == 200) {\r\n            // console.log(localStorage.uid);\r\n            this.$message({\r\n              message: res.msg,\r\n              type: \"success\",\r\n            });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    // 查询所有活动\r\n    activityQuery() {\r\n      ListAllActivity().then((res) => {\r\n        if (res.code == 200) {\r\n          this.activityList = res.data;\r\n        }\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    // 所有活动接口\r\n    this.activityQuery();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.main {\r\n  margin-top: 40px;\r\n  width: 100%;\r\n  .tem {\r\n    width: 90%;\r\n    margin: 0 auto;\r\n    margin-top: 20px;\r\n    margin-bottom: 50px;\r\n    .starttime {\r\n      // 开始时间\r\n      margin-left: 50px;\r\n      font-size: 16px;\r\n      color: rgb(136, 136, 136);\r\n    }\r\n\r\n    div {\r\n      width: 100%;\r\n      margin: 0 auto;\r\n      padding-bottom: 20px;\r\n      padding-top: 20px;\r\n      border: 1px solid black;\r\n      box-shadow: 10px 10px 10px 0 rgba(0, 0, 0, 0.3);\r\n      border-radius: 4px;\r\n      .content {\r\n        margin-left: 50px;\r\n        margin-right: 50px;\r\n        font-size: 19px;\r\n        font-weight: bold;\r\n      }\r\n      .endtime {\r\n        margin-left: 50px;\r\n        font-size: 16px;\r\n        color: rgb(204, 204, 204);\r\n      }\r\n      .join {\r\n        margin-left: 50px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Activity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Activity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Activity.vue?vue&type=template&id=94640610&scoped=true&\"\nimport script from \"./Activity.vue?vue&type=script&lang=js&\"\nexport * from \"./Activity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Activity.vue?vue&type=style&index=0&id=94640610&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"94640610\",\n  null\n  \n)\n\nexport default component.exports","const config = {\r\n    //后端api地址\r\n    API_URL: \"https://www.fastmock.site/mock/bb8184025bf2675a801a55bd2eec58c9/shop01\",\r\n};\r\n\r\nexport default config","import request from \"axios\"\r\nimport config from \"@/config\"\r\n\r\nconst token = localStorage.getItem(\"token\");\r\nconst service = request.create({\r\n    baseURL: config.API_URL,\r\n    headers: {\r\n        \"Autorization\": token\r\n    }\r\n});\r\n\r\nservice.interceptors.response.use(\r\n    response => {\r\n        const res = response.data;\r\n        return res\r\n    },\r\n\r\n    error => {\r\n        console.log('err'+error);\r\n        return Promise.reject(error)\r\n    }\r\n);\r\n\r\nexport default service"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","reverse","_l","item","id","key","_v","_s","startTime","content","endTime","on","$event","open","staticRenderFns","ListAllActivity","service","url","method","RegistrationActivity","data","login","activityList","methods","aid","uid","localStorage","$confirm","confirmButtonText","cancelButtonText","type","then","RegistrationData","res","code","message","msg","activityQuery","mounted","component","config","API_URL","token","getItem","request","baseURL","headers","interceptors","response","use","error","console","log","Promise","reject"],"sourceRoot":""}