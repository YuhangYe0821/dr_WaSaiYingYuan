{"version":3,"file":"js/225-legacy.f954ddfd.js","mappings":"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","sources":["webpack://project_1/./src/views/Buy.vue?e2f7","webpack://project_1/src/views/Buy.vue","webpack://project_1/./src/views/Buy.vue?6d9e","webpack://project_1/./src/views/Buy.vue","webpack://project_1/./src/api/film.js","webpack://project_1/./src/config.js","webpack://project_1/./src/utils/request.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('el-steps',{attrs:{\"active\":2,\"align-center\":\"\"}},[_c('el-step',{attrs:{\"title\":\"步骤1\",\"description\":\"选择电影场次\"}}),_c('el-step',{attrs:{\"title\":\"步骤2\",\"description\":\"选择座位号\"}}),_c('el-step',{attrs:{\"title\":\"步骤3\",\"description\":\"加入购物车\"}}),_c('el-step',{attrs:{\"title\":\"步骤4\",\"description\":\"结算付款\"}})],1),_c('div',{staticClass:\"isBuy\"},[_c('div',{staticClass:\"isLeft\"},[_c('div',{staticClass:\"isFilm\"},[_c('img',{staticClass:\"isImg\",attrs:{\"src\":_vm.filmList.cover,\"alt\":\"\"}}),_c('div',{staticClass:\"isInfo\"},[_c('p',{staticClass:\"isName\"},[_vm._v(_vm._s(_vm.filmList.name))]),_c('p',[_vm._v(\"类型：\"+_vm._s(_vm.filmList.type))]),_c('p',[_vm._v(\"地区：\"+_vm._s(_vm.filmList.region))]),_c('p',[_vm._v(\"时长：\"+_vm._s(_vm.filmList.duration)+\"分钟\")])])]),_c('div',{staticClass:\"isTicket\"},[_c('p',[_vm._v(\"放映：\"+_vm._s(_vm.ticketList.type))]),_c('p',{staticClass:\"isStartTime\"},[_vm._v(\" 开场：\"+_vm._s(_vm.ticketList.date)+\" \"+_vm._s(_vm.ticketList.startTime)+\" \")]),_c('p',[_vm._v(\"散场：\"+_vm._s(_vm.ticketList.date)+\" \"+_vm._s(_vm.ticketList.endTime))]),_c('p',[_vm._v(\"票价：¥\"+_vm._s(_vm.ticketList.price)+\"/张\")])]),_c('el-divider'),_c('div',{staticClass:\"isChoose\"},[_vm._v(\" 已选座位： \"),_vm._l((_vm.userSelectSeats),function(item,id){return _c('el-tag',{key:id,staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"danger\",\"effect\":\"plain\"}},[_vm._v(\" \"+_vm._s(item)+\"号\")])}),_c('p',{staticClass:\"isTotal\"},[_vm._v(\" 总计：\"),_c('span',[_vm._v(\"¥\"+_vm._s(_vm.total))])])],2),_c('el-divider'),_c('div',{staticClass:\"isAdd\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入手机号码\"},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}}),_c('el-button',{attrs:{\"type\":\"danger\",\"round\":\"\"},on:{\"click\":function($event){return _vm.submitSeats()}}},[_vm._v(\"加入购物车\")])],1)],1),_c('div',{staticClass:\"isRight\"},[_vm._m(0),_c('br'),_c('div',{staticClass:\"isScreen\"}),_c('p',[_vm._v(\"银幕中央\")]),_c('div',{staticClass:\"screen-line\"}),_c('div',{staticClass:\"isSeats\"},[_c('div',{staticStyle:{\"margin\":\"0 auto\",\"width\":\"480px\",\"height\":\"200px\"}},_vm._l((_vm.seats),function(item,index){return _c('span',{key:index},[(item.status === 0)?_c('span',{staticClass:\"seat sold item\"}):_vm._e(),(item.status === 1)?_c('span',{staticClass:\"seat selectable item\",on:{\"click\":function($event){return _vm.handleSelect(index)}}}):_vm._e(),(item.status === 2)?_c('span',{staticClass:\"seat selected item\",on:{\"click\":function($event){return _vm.handleDisSelect(index)}}}):_vm._e()])}),0)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"isImg\"},[_c('img',{attrs:{\"src\":require(\"../assets/img/seat3.png\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"可选座位\")]),_c('img',{attrs:{\"src\":require(\"../assets/img/seat1.png\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"已售座位\")]),_c('img',{attrs:{\"src\":require(\"../assets/img/seat2.png\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"已选座位\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"main\">\r\n    <!-- Timeline 时间线 -->\r\n    <el-steps :active=\"2\" align-center>\r\n      <el-step title=\"步骤1\" description=\"选择电影场次\"></el-step>\r\n      <el-step title=\"步骤2\" description=\"选择座位号\"></el-step>\r\n      <el-step title=\"步骤3\" description=\"加入购物车\"></el-step>\r\n      <el-step title=\"步骤4\" description=\"结算付款\"></el-step>\r\n    </el-steps>\r\n    <div class=\"isBuy\">\r\n      <div class=\"isLeft\">\r\n        <!-- 电影信息 -->\r\n        <div class=\"isFilm\">\r\n          <img :src=\"filmList.cover\" alt=\"\" class=\"isImg\" />\r\n          <div class=\"isInfo\">\r\n            <p class=\"isName\">{{ filmList.name }}</p>\r\n            <p>类型：{{ filmList.type }}</p>\r\n            <p>地区：{{ filmList.region }}</p>\r\n            <p>时长：{{ filmList.duration }}分钟</p>\r\n          </div>\r\n        </div>\r\n        <!-- 本场次信息 -->\r\n        <div class=\"isTicket\">\r\n          <p>放映：{{ ticketList.type }}</p>\r\n          <p class=\"isStartTime\">\r\n            开场：{{ ticketList.date }}&emsp;{{ ticketList.startTime }}\r\n          </p>\r\n          <p>散场：{{ ticketList.date }}&emsp;{{ ticketList.endTime }}</p>\r\n          <p>票价：¥{{ ticketList.price }}/张</p>\r\n        </div>\r\n        <el-divider></el-divider>\r\n        <!-- 选座情况+总计 -->\r\n        <div class=\"isChoose\">\r\n          已选座位：\r\n          <el-tag\r\n            v-for=\"(item, id) in userSelectSeats\"\r\n            :key=\"id\"\r\n            type=\"danger\"\r\n            style=\"margin-right: 5px\"\r\n            effect=\"plain\"\r\n          >\r\n            {{ item }}号</el-tag\r\n          >\r\n          <p class=\"isTotal\">\r\n            总计：<span>¥{{ total }}</span>\r\n          </p>\r\n        </div>\r\n        <el-divider></el-divider>\r\n        <!-- 加入购物车 -->\r\n        <div class=\"isAdd\">\r\n          <el-input v-model=\"input\" placeholder=\"请输入手机号码\"></el-input>\r\n          <el-button type=\"danger\" round @click=\"submitSeats()\"\r\n            >加入购物车</el-button\r\n          >\r\n        </div>\r\n      </div>\r\n      <!-- 选座 -->\r\n      <div class=\"isRight\">\r\n        <div class=\"isImg\">\r\n          <img src=\"../assets/img/seat3.png\" alt=\"\" /><span>可选座位</span>\r\n          <img src=\"../assets/img/seat1.png\" alt=\"\" /><span>已售座位</span>\r\n          <img src=\"../assets/img/seat2.png\" alt=\"\" /><span>已选座位</span>\r\n        </div>\r\n        <br />\r\n        <div class=\"isScreen\"></div>\r\n        <p>银幕中央</p>\r\n        <div class=\"screen-line\"></div>\r\n        <div class=\"isSeats\">\r\n          <div style=\"margin: 0 auto; width: 480px; height: 200px\">\r\n            <span v-for=\"(item, index) in seats\" :key=\"index\">\r\n              <!-- 不可选 -->\r\n              <span v-if=\"item.status === 0\" class=\"seat sold item\"></span>\r\n              <!-- 可选 -->\r\n              <span\r\n                v-if=\"item.status === 1\"\r\n                class=\"seat selectable item\"\r\n                @click=\"handleSelect(index)\"\r\n              ></span>\r\n              <!-- 已选 -->\r\n              <span\r\n                v-if=\"item.status === 2\"\r\n                class=\"seat selected item\"\r\n                @click=\"handleDisSelect(index)\"\r\n              ></span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { FindArrangementById, FindArrangementSeats } from \"../api/film\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      input: \"\",\r\n      total: 0,\r\n      // 本场次信息\r\n      ticketList: [],\r\n      // 电影信息\r\n      filmList: [],\r\n      // 不可选座位\r\n      selectSeats: [],\r\n      // 已选座位\r\n      userSelectSeats: [],\r\n      // 全部座位\r\n      seats: [],\r\n    };\r\n  },\r\n  methods: {\r\n    // 校验座位和手机号\r\n    check() {\r\n      if (this.userSelectSeats.length === 0) {\r\n        this.$message({\r\n          message: \"请选择座位\",\r\n          type: \"warning\",\r\n        });\r\n        return false;\r\n      }\r\n      if (this.input.length !== 11) {\r\n        this.$message({\r\n          message: \"请输入11位的电话号码\",\r\n          type: \"warning\",\r\n        });\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n\r\n    // 加入购物车\r\n    submitSeats() {\r\n      if (this.check()) {\r\n        for (var i = 0; i < this.userSelectSeats.length; i++) {\r\n          this.seats += this.userSelectSeats[i] + \"号\";\r\n        }\r\n        this.$message({\r\n          message: \"已为您添加到购物车,请尽快付款\",\r\n          type: \"success\",\r\n        });\r\n        this.$router.go(-1);\r\n      }\r\n    },\r\n\r\n    // 选择座位\r\n    handleSelect(index) {\r\n      if (this.userSelectSeats.length > 3) {\r\n        //最多选四个座位，选第五个座位会使第一个座位取消选择\r\n        var d = this.userSelectSeats[0] - 1;\r\n        this.seats[d].status = 1;\r\n        this.userSelectSeats.splice(0, 1);\r\n        this.userSelectSeats.push(index + 1);\r\n        this.seats[index].status = 2;\r\n        this.total = this.ticketList.price * this.userSelectSeats.length;\r\n      } else {\r\n        this.userSelectSeats.push(index + 1);\r\n        this.seats[index].status = 2;\r\n        this.total = this.ticketList.price * this.userSelectSeats.length;\r\n      }\r\n    },\r\n\r\n    // 取消选择座位\r\n    handleDisSelect(index) {\r\n      this.userSelectSeats.splice(this.userSelectSeats.indexOf(index + 1), 1);\r\n      this.seats[index].status = 1;\r\n      this.total = this.ticketList.price * this.userSelectSeats.length;\r\n    },\r\n\r\n    // 查看排片详情以及座位\r\n    queryArrangement() {\r\n      FindArrangementById(this.$route.query.id).then((res) => {\r\n        this.ticketList = res.data.arrangements;\r\n        this.filmList = res.data.film;\r\n        FindArrangementSeats(this.$route.query.id).then((res) => {\r\n          this.selectSeats = res.data;\r\n          this.loadSeat();\r\n        });\r\n      });\r\n    },\r\n    // 座位\r\n    loadSeat() {\r\n      const n = this.ticketList.seatNumber;\r\n      let arr = new Array(0);\r\n      for (let i = 0; i < n; i++) {\r\n        if (this.selectSeats.indexOf(i + 1) === -1) {\r\n          arr[i] = { seat: i + 1, status: 1 };\r\n        } else {\r\n          arr[i] = { seat: i + 1, status: 0 };\r\n        }\r\n      }\r\n      this.seats = arr;\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.queryArrangement();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.main {\r\n  margin-top: 40px;\r\n  width: 100%;\r\n  .el-steps {\r\n    margin-top: 40px;\r\n    margin-bottom: 40px;\r\n  }\r\n  .isBuy {\r\n    width: 90%;\r\n    margin: 0 auto;\r\n    box-shadow: 10px 10px 10px 0 rgba(0, 0, 0, 0.3);\r\n    .isLeft {\r\n      width: 30%;\r\n      height: 750px;\r\n      float: left;\r\n      background-color: rgb(243, 243, 243);\r\n      .isFilm {\r\n        .isImg {\r\n          width: 150px;\r\n          margin: 30px;\r\n        }\r\n        .isInfo {\r\n          margin-top: -250px;\r\n          margin-left: 210px;\r\n          .isName {\r\n            font-size: 22px;\r\n            font-weight: bold;\r\n          }\r\n          p {\r\n            font-size: 14px;\r\n          }\r\n        }\r\n      }\r\n      .isTicket {\r\n        margin: 30px;\r\n        margin-top: 100px;\r\n        .isStartTime {\r\n          color: red;\r\n        }\r\n      }\r\n      .isChoose {\r\n        margin: 30px;\r\n        .isTotal {\r\n          span {\r\n            color: red;\r\n            font-size: 20px;\r\n          }\r\n        }\r\n      }\r\n      .isAdd {\r\n        margin: 30px;\r\n        .el-button {\r\n          width: 100%;\r\n          margin-top: 30px;\r\n        }\r\n      }\r\n    }\r\n    .isRight {\r\n      width: 70%;\r\n      float: right;\r\n      height: 750px;\r\n      position: relative;\r\n      .isImg {\r\n        margin-top: 40px;\r\n        text-align: center;\r\n        position: relative;\r\n        img {\r\n          width: 30px;\r\n          margin-right: 90px;\r\n        }\r\n        span {\r\n          font-size: 14px;\r\n          position: absolute;\r\n          margin-left: -85px;\r\n          margin-top: 3px;\r\n        }\r\n      }\r\n      .isScreen {\r\n        width: 80%;\r\n        height: 20px;\r\n        background: rgb(219, 218, 218);\r\n        margin: 0 auto;\r\n      }\r\n      p {\r\n        text-align: center;\r\n      }\r\n      .screen-line {\r\n        width: 0;\r\n        height: 30%;\r\n        border-left: 1px dashed rgb(219, 218, 218);\r\n        position: absolute;\r\n        top: 160px;\r\n        bottom: 0;\r\n        left: 50%;\r\n      }\r\n      .isSeats {\r\n        width: 80%;\r\n        margin: 0 auto;\r\n        .seat {\r\n          display: inline-block;\r\n          font-size: 0;\r\n          width: 30px;\r\n          height: 26px;\r\n          margin: 0 5px;\r\n          background: url(\"../assets/img/seat3.png\") no-repeat;\r\n          background-position: 0 1px;\r\n        }\r\n        .sold {\r\n          background-image: url(\"../assets/img/seat1.png\");\r\n        }\r\n        .selected {\r\n          background-image: url(\"../assets/img/seat2.png\");\r\n        }\r\n        .item {\r\n          padding-bottom: 20px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Buy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Buy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Buy.vue?vue&type=template&id=449db2a0&scoped=true&\"\nimport script from \"./Buy.vue?vue&type=script&lang=js&\"\nexport * from \"./Buy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Buy.vue?vue&type=style&index=0&id=449db2a0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"449db2a0\",\n  null\n  \n)\n\nexport default component.exports","import service from \"../utils/request\";\r\n\r\n// 轮播图(测试)\r\nexport function ListAllPoster() {\r\n    return service({\r\n        url:'/api/poster',\r\n        method:'get',\r\n    })\r\n}\r\n// // 轮播图(实际)\r\n// export function ListAllPoster(status) {\r\n//     return service({\r\n//         url:'/poster?status='+status,\r\n//         method:'get',\r\n//     })\r\n// }\r\n\r\n// 正在热播(测试)\r\nexport function ListNowFilm() {\r\n    return service({\r\n        url:'/api/status',\r\n        method:'get',\r\n    })\r\n}\r\n\r\n//热门榜单Top1-3(测试)\r\nexport function ListHots() {\r\n    return service({\r\n        url:'/api/film/hot/limit',\r\n        method:'get',\r\n    })\r\n}\r\n\r\n// //热门榜单(实际)\r\n// export function ListHots() {\r\n//     return service({\r\n//         url:'/api/film/hot/10',\r\n//         method:'get',\r\n//     })\r\n// }\r\n//热门榜单Top4-10(测试)\r\nexport function ListTableData() {\r\n    return service({\r\n        url:'/api/film/hot/tabledata',\r\n        method:'get',\r\n    })\r\n}\r\n\r\n//所有电影\r\nexport function ListAllFilm() {\r\n    return service({\r\n        url:'/api/film',\r\n        method:'get',\r\n    })\r\n}\r\n\r\n// 选择地区和类型来查询电影(测试)\r\nexport function FindFilmByRegionAndType() {\r\n    return service({\r\n        url:'/film/region/type',\r\n        method:'get',\r\n    })\r\n}\r\n// // 选择地区和类型来查询电影(实际)\r\n// export function FindFilmByRegionAndType(region, type) {\r\n//     return service({\r\n//         url:'/film?region='+region+'&type='+type,\r\n//         method:'get',\r\n//     })\r\n// }\r\n\r\n// 查询电影详情(测试)\r\nexport function FindFilmById() {\r\n    return service({\r\n        url:'/api/film/id',\r\n        method:'get',\r\n    })\r\n}\r\n// // 查询电影详情(实际)\r\n// export function FindFilmById(id) {\r\n//     return service({\r\n//         url:'/api/film/'+id,\r\n//         method:'get',\r\n//     })\r\n// }\r\n\r\n// 评分\r\nexport function AddFilmEvaluate(data) {\r\n    return service({\r\n        url:'/api/fe',\r\n        method:'post',\r\n        data:data\r\n    })\r\n}\r\n\r\n// 查询电影评论\r\nexport function FindFilmComment() {\r\n    return service({\r\n        url:'/api/fe',\r\n        method:'get',\r\n    })\r\n}\r\n\r\n// 查询电影排片(测试)\r\nexport function FindFilmTicketById() {\r\n    return service({\r\n        url:'/api/arrangement/film/fid',\r\n        method:'get',\r\n    })\r\n}\r\n// // 查询电影排片(实际)\r\n// export function FindFilmTicketById(fid) {\r\n//     return service({\r\n//         url:'/api/arrangement/film/{fid}',\r\n//         method:'get',\r\n//     })\r\n// }\r\n\r\n// 查询排片详情(测试)\r\nexport function FindArrangementById() {\r\n    return service({\r\n        url:'/api/arrangement/id',\r\n        method:'get',\r\n    })\r\n}\r\n// 查询排片详情(实际)\r\n// export function FindArrangementById(id) {\r\n//     return service({\r\n//         url:'/api/arrangement/'+id,\r\n//         method:'get',\r\n//     })\r\n// }\r\n\r\n// 查询排片座位情况(测试)\r\nexport function FindArrangementSeats() {\r\n    return service({\r\n        url:'/api/arrangement/getSeats/id',\r\n        method:'get',\r\n    })\r\n}\r\n// // 查询排片座位情况(实际)\r\n// export function FindArrangementSeats(id) {\r\n//     return service({\r\n//         url:'/api/arrangement/getSeats?id='+id,\r\n//         method:'get',\r\n//     })\r\n// }\r\n","const config = {\r\n    //后端api地址\r\n    API_URL: \"https://www.fastmock.site/mock/bb8184025bf2675a801a55bd2eec58c9/shop01\",\r\n};\r\n\r\nexport default config","import request from \"axios\"\r\nimport config from \"@/config\"\r\n\r\nconst token = localStorage.getItem(\"token\");\r\nconst service = request.create({\r\n    baseURL: config.API_URL,\r\n    headers: {\r\n        \"Autorization\": token\r\n    }\r\n});\r\n\r\nservice.interceptors.response.use(\r\n    response => {\r\n        const res = response.data;\r\n        return res\r\n    },\r\n\r\n    error => {\r\n        console.log('err'+error);\r\n        return Promise.reject(error)\r\n    }\r\n);\r\n\r\nexport default service"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","filmList","cover","_v","_s","name","type","region","duration","ticketList","date","startTime","endTime","price","_l","item","id","key","staticStyle","total","model","value","callback","$$v","input","expression","on","$event","submitSeats","_m","index","status","_e","handleSelect","handleDisSelect","staticRenderFns","data","selectSeats","userSelectSeats","seats","methods","check","length","$message","message","i","$router","go","d","splice","push","indexOf","queryArrangement","FindArrangementById","$route","query","then","FindArrangementSeats","loadSeat","arr","seat","mounted","component","ListAllPoster","service","url","method","ListNowFilm","ListHots","ListTableData","ListAllFilm","FindFilmByRegionAndType","FindFilmById","AddFilmEvaluate","FindFilmComment","FindFilmTicketById","config","API_URL","token","localStorage","getItem","request","baseURL","headers","interceptors","response","use","res","error","console","log","Promise","reject"],"sourceRoot":""}