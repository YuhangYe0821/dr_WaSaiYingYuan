{"version":3,"file":"js/128-legacy.42f52ea2.js","mappings":"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","sources":["webpack://project_1/./src/views/Films.vue?3f03","webpack://project_1/src/views/Films.vue","webpack://project_1/./src/views/Films.vue?01ee","webpack://project_1/./src/views/Films.vue","webpack://project_1/./src/api/film.js","webpack://project_1/./src/config.js","webpack://project_1/./src/utils/request.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"choose\"},[_c('ul',[_c('li',{staticClass:\"isType\"},[_vm._v(\" 类型: \"),_c('ul',_vm._l((_vm.typeList),function(item,index){return _c('li',{key:index,staticClass:\"typeList\",class:_vm.selectType === item ? 'active' : '',on:{\"click\":function($event){return _vm.handleTypeSelect(item)}}},[_c('router-link',{attrs:{\"to\":'/Films?region=' + _vm.selectRegion + '&type=' + item}},[_vm._v(_vm._s(item))])],1)}),0)]),_c('li',{staticClass:\"isRegion\"},[_vm._v(\" 地区: \"),_c('ul',_vm._l((_vm.regionList),function(item,index){return _c('li',{key:index,class:_vm.selectRegion === item ? 'active' : '',on:{\"click\":function($event){return _vm.handleRegionSelect(item)}}},[_c('router-link',{attrs:{\"to\":'/Films?region=' + item + '&type=' + _vm.selectType}},[_vm._v(_vm._s(item))])],1)}),0)])])]),_c('div',{staticClass:\"cards\"},[_c('el-row',_vm._l((_vm.filmsList),function(item,id){return _c('el-col',{key:id,attrs:{\"span\":3,\"offset\":id >= 0 ? 1 : 0}},[_c('el-link',{attrs:{\"href\":\"/Detail\",\"underline\":false}},[_c('el-card',{attrs:{\"body-style\":{ padding: '0px' }}},[_c('img',{staticClass:\"image\",attrs:{\"src\":item.cover}}),_c('p',[_vm._v(_vm._s(item.name))])])],1)],1)}),1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"main\">\r\n    <!-- 选择类型、地区 -->\r\n    <div class=\"choose\">\r\n      <ul>\r\n        <li class=\"isType\">\r\n          类型:\r\n          <ul>\r\n            <li\r\n              v-for=\"(item, index) in typeList\"\r\n              :key=\"index\"\r\n              class=\"typeList\"\r\n              :class=\"selectType === item ? 'active' : ''\"\r\n              @click=\"handleTypeSelect(item)\"\r\n            >\r\n              <router-link\r\n                :to=\"'/Films?region=' + selectRegion + '&type=' + item\"\r\n                >{{ item }}</router-link\r\n              >\r\n            </li>\r\n          </ul>\r\n        </li>\r\n        <li class=\"isRegion\">\r\n          地区:\r\n          <ul>\r\n            <li\r\n              v-for=\"(item, index) in regionList\"\r\n              :key=\"index\"\r\n              :class=\"selectRegion === item ? 'active' : ''\"\r\n              @click=\"handleRegionSelect(item)\"\r\n            >\r\n              <router-link\r\n                :to=\"'/Films?region=' + item + '&type=' + selectType\"\r\n                >{{ item }}</router-link\r\n              >\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <!-- card循环显示电影 -->\r\n    <div class=\"cards\">\r\n      <el-row>\r\n        <el-col\r\n          :span=\"3\"\r\n          v-for=\"(item, id) in filmsList\"\r\n          :key=\"id\"\r\n          :offset=\"id >= 0 ? 1 : 0\"\r\n        >\r\n          <el-link href=\"/Detail\" :underline=\"false\">\r\n            <el-card :body-style=\"{ padding: '0px' }\">\r\n              <img :src=\"item.cover\" class=\"image\" />\r\n              <p>{{ item.name }}</p>\r\n            </el-card>\r\n          </el-link>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ListAllFilm, FindFilmByRegionAndType } from \"../api/film\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      selectType: \"全部\",\r\n      selectRegion: \"全部\",\r\n      // 类型\r\n      typeList: [\r\n        \"全部\",\r\n        \"家庭\",\r\n        \"惊悚\",\r\n        \"科幻\",\r\n        \"爱情\",\r\n        \"动作\",\r\n        \"喜剧\",\r\n        \"恐怖\",\r\n        \"悬疑\",\r\n        \"犯罪\",\r\n        \"冒险\",\r\n        \"战争\",\r\n        \"历史\",\r\n        \"武侠\",\r\n        \"传记\",\r\n        \"古装\",\r\n        \"其他\",\r\n      ],\r\n      // 地区\r\n      regionList: [\r\n        \"全部\",\r\n        \"内地\",\r\n        \"香港\",\r\n        \"台湾\",\r\n        \"美国\",\r\n        \"韩国\",\r\n        \"日本\",\r\n        \"泰国\",\r\n        \"印度\",\r\n        \"法国\",\r\n        \"英国\",\r\n        \"德国\",\r\n        \"其他\",\r\n      ],\r\n      // 电影\r\n      filmsList: [],\r\n    };\r\n  },\r\n  methods: {\r\n    //所有电影接口\r\n    AllFilmQuery() {\r\n      ListAllFilm().then((res) => {\r\n        if (res.code == 200) {\r\n          this.filmsList = res.data;\r\n        }\r\n      });\r\n    },\r\n    //选择地区和类型来查询电影(测试)\r\n    reloadFilmList() {\r\n      FindFilmByRegionAndType().then(\r\n        //FindFilmByRegionAndType(this.selectRegion, this.selectType)\r\n        (res) => {\r\n          this.filmsList = res.data;\r\n        }\r\n      );\r\n    },\r\n    handleTypeSelect(item) {\r\n      this.selectType = item;\r\n      this.reloadFilmList();\r\n    },\r\n    handleRegionSelect(item) {\r\n      this.selectRegion = item;\r\n      this.reloadFilmList();\r\n    },\r\n  },\r\n  mounted() {\r\n    // 所有电影接口\r\n    this.AllFilmQuery();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.main {\r\n  margin-top: 40px;\r\n  width: 100%;\r\n  .choose {\r\n    width: 80%;\r\n    margin: 0 auto;\r\n    height: 115px;\r\n    border: 1px solid rgb(204, 204, 204);\r\n    border-radius: 4px;\r\n    ul {\r\n      list-style: none;\r\n\r\n      .isType {\r\n        float: left;\r\n        margin-left: -20px;\r\n        margin-bottom: 30px;\r\n\r\n        li {\r\n          float: left;\r\n          margin-left: 20px;\r\n          margin-top: -20px;\r\n          border-radius: 15px;\r\n          width: 45px;\r\n          height: 25px;\r\n          text-align: center;\r\n          line-height: 25px;\r\n          a {\r\n            color: black;\r\n            text-decoration: none;\r\n          }\r\n        }\r\n        .active {\r\n          background-color: red;\r\n          a {\r\n            color: white;\r\n          }\r\n        }\r\n      }\r\n      .isRegion {\r\n        float: left;\r\n        margin-left: -20px;\r\n        li {\r\n          float: left;\r\n          margin-left: 20px;\r\n          margin-top: -20px;\r\n          border-radius: 15px;\r\n          width: 45px;\r\n          height: 25px;\r\n          text-align: center;\r\n          line-height: 25px;\r\n          a {\r\n            color: black;\r\n            text-decoration: none;\r\n          }\r\n        }\r\n        .active {\r\n          background-color: red;\r\n          a {\r\n            color: white;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .cards {\r\n    width: 80%;\r\n    margin-left: 100px;\r\n    margin-top: 50px;\r\n    float: left;\r\n    .el-col {\r\n      margin-bottom: 15px;\r\n      .el-card {\r\n        .image {\r\n          width: 100%;\r\n          height: 215px; //不设置高度会导致card位置出错\r\n          display: block;\r\n        }\r\n        p {\r\n          text-align: center;\r\n          //防溢出，溢出的省略号代替，设宽\r\n          display: -webkit-box !important;\r\n          text-overflow: ellipsis;\r\n          overflow: hidden;\r\n          -webkit-line-clamp: 1;\r\n          -webkit-box-orient: vertical;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Films.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Films.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Films.vue?vue&type=template&id=11111c1e&scoped=true&\"\nimport script from \"./Films.vue?vue&type=script&lang=js&\"\nexport * from \"./Films.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Films.vue?vue&type=style&index=0&id=11111c1e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11111c1e\",\n  null\n  \n)\n\nexport default component.exports","import service from \"../utils/request\";\r\n\r\n// 轮播图(测试)\r\nexport function ListAllPoster() {\r\n    return service({\r\n        url:'/api/poster',\r\n        method:'get',\r\n    })\r\n}\r\n// // 轮播图(实际)\r\n// export function ListAllPoster(status) {\r\n//     return service({\r\n//         url:'/poster?status='+status,\r\n//         method:'get',\r\n//     })\r\n// }\r\n\r\n// 正在热播(测试)\r\nexport function ListNowFilm() {\r\n    return service({\r\n        url:'/api/status',\r\n        method:'get',\r\n    })\r\n}\r\n\r\n//热门榜单Top1-3(测试)\r\nexport function ListHots() {\r\n    return service({\r\n        url:'/api/film/hot/limit',\r\n        method:'get',\r\n    })\r\n}\r\n\r\n// //热门榜单(实际)\r\n// export function ListHots() {\r\n//     return service({\r\n//         url:'/api/film/hot/10',\r\n//         method:'get',\r\n//     })\r\n// }\r\n//热门榜单Top4-10(测试)\r\nexport function ListTableData() {\r\n    return service({\r\n        url:'/api/film/hot/tabledata',\r\n        method:'get',\r\n    })\r\n}\r\n\r\n//所有电影\r\nexport function ListAllFilm() {\r\n    return service({\r\n        url:'/api/film',\r\n        method:'get',\r\n    })\r\n}\r\n\r\n// 选择地区和类型来查询电影(测试)\r\nexport function FindFilmByRegionAndType() {\r\n    return service({\r\n        url:'/film/region/type',\r\n        method:'get',\r\n    })\r\n}\r\n// // 选择地区和类型来查询电影(实际)\r\n// export function FindFilmByRegionAndType(region, type) {\r\n//     return service({\r\n//         url:'/film?region='+region+'&type='+type,\r\n//         method:'get',\r\n//     })\r\n// }\r\n\r\n// 查询电影详情(测试)\r\nexport function FindFilmById() {\r\n    return service({\r\n        url:'/api/film/id',\r\n        method:'get',\r\n    })\r\n}\r\n// // 查询电影详情(实际)\r\n// export function FindFilmById(id) {\r\n//     return service({\r\n//         url:'/api/film/'+id,\r\n//         method:'get',\r\n//     })\r\n// }\r\n\r\n// 评分\r\nexport function AddFilmEvaluate(data) {\r\n    return service({\r\n        url:'/api/fe',\r\n        method:'post',\r\n        data:data\r\n    })\r\n}\r\n\r\n// 查询电影评论\r\nexport function FindFilmComment() {\r\n    return service({\r\n        url:'/api/fe',\r\n        method:'get',\r\n    })\r\n}\r\n\r\n// 查询电影排片(测试)\r\nexport function FindFilmTicketById() {\r\n    return service({\r\n        url:'/api/arrangement/film/fid',\r\n        method:'get',\r\n    })\r\n}\r\n// // 查询电影排片(实际)\r\n// export function FindFilmTicketById(fid) {\r\n//     return service({\r\n//         url:'/api/arrangement/film/{fid}',\r\n//         method:'get',\r\n//     })\r\n// }\r\n\r\n// 查询排片详情(测试)\r\nexport function FindArrangementById() {\r\n    return service({\r\n        url:'/api/arrangement/id',\r\n        method:'get',\r\n    })\r\n}\r\n// 查询排片详情(实际)\r\n// export function FindArrangementById(id) {\r\n//     return service({\r\n//         url:'/api/arrangement/'+id,\r\n//         method:'get',\r\n//     })\r\n// }\r\n\r\n// 查询排片座位情况(测试)\r\nexport function FindArrangementSeats() {\r\n    return service({\r\n        url:'/api/arrangement/getSeats/id',\r\n        method:'get',\r\n    })\r\n}\r\n// // 查询排片座位情况(实际)\r\n// export function FindArrangementSeats(id) {\r\n//     return service({\r\n//         url:'/api/arrangement/getSeats?id='+id,\r\n//         method:'get',\r\n//     })\r\n// }\r\n","const config = {\r\n    //后端api地址\r\n    API_URL: \"https://www.fastmock.site/mock/bb8184025bf2675a801a55bd2eec58c9/shop01\",\r\n};\r\n\r\nexport default config","import request from \"axios\"\r\nimport config from \"@/config\"\r\n\r\nconst token = localStorage.getItem(\"token\");\r\nconst service = request.create({\r\n    baseURL: config.API_URL,\r\n    headers: {\r\n        \"Autorization\": token\r\n    }\r\n});\r\n\r\nservice.interceptors.response.use(\r\n    response => {\r\n        const res = response.data;\r\n        return res\r\n    },\r\n\r\n    error => {\r\n        console.log('err'+error);\r\n        return Promise.reject(error)\r\n    }\r\n);\r\n\r\nexport default service"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_l","item","index","key","class","selectType","on","$event","handleTypeSelect","attrs","selectRegion","_s","handleRegionSelect","id","padding","cover","name","staticRenderFns","data","typeList","regionList","filmsList","methods","AllFilmQuery","ListAllFilm","then","res","code","reloadFilmList","FindFilmByRegionAndType","mounted","component","ListAllPoster","service","url","method","ListNowFilm","ListHots","ListTableData","FindFilmById","AddFilmEvaluate","FindFilmComment","FindFilmTicketById","FindArrangementById","FindArrangementSeats","config","API_URL","token","localStorage","getItem","request","baseURL","headers","interceptors","response","use","error","console","log","Promise","reject"],"sourceRoot":""}